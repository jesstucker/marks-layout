<!DOCTYPE html>
<html>
<head>
	<script
	  src="http://code.jquery.com/jquery-3.3.1.js"
	  integrity="sha256-2Kok7MbOyxpgUVvAk/HJ2jigOSYS2auK4Pfzbm7uH60="
	  crossorigin="anonymous"></script>
	  <script type="text/javascript">
	  	function csrfSafeMethod(method) {
	  	    // these HTTP methods do not require CSRF protection
	  	    // return (/^(GET|HEAD|OPTIONS|TRACE)$/.test(method));
	  	    return (/^(GET|HEAD|OPTIONS|TRACE)$/.test(method));
	  	}
	  	$.ajaxSetup({
	  	    beforeSend: function(xhr, settings) {
	  	        if (!csrfSafeMethod(settings.type) && !this.crossDomain) {
	  	            xhr.setRequestHeader("X-CSRFToken", csrftoken);
	  	        }
	  	    }
	  	});
	  </script>
	<title></title>
</head>
<body>
	<div id="app"></div>
	<form method="post" action="http://localhost:8000/api-token-auth/">
		<input type="text" placeholder="Username" name="username">
		<input type="password" placeholder="password" name="password">
		<button type="submit">Submit</button>
	</form>
<body>
<script>

	// using jQuery
	function getCookie(name) {
	    var cookieValue = null;
	    if (document.cookie && document.cookie !== '') {
	        var cookies = document.cookie.split(';');
	        for (var i = 0; i < cookies.length; i++) {
	            var cookie = jQuery.trim(cookies[i]);
	            // Does this cookie string begin with the name we want?
	            if (cookie.substring(0, name.length + 1) === (name + '=')) {
	                cookieValue = decodeURIComponent(cookie.substring(name.length + 1));
	                break;
	            }
	        }
	    }
	    return cookieValue;
	}
	var csrftoken = getCookie('csrftoken');

	// fetch('http://localhost:8000/users/')
	// .then(function(res){
	// 	return res.json()
	// })
	// .then(function(json){
	// 	stuff = []
	// 	json.forEach(function(each){stuff.push(each.email)})
	// 	console.log(stuff)
	// 	document.getElementById('app').innerHTML = stuff
	// })
</script>
</html>